import{a as p,i as n,S as w}from"./assets/vendor-CRCB-GUD.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function l(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(e){if(e.ep)return;e.ep=!0;const o=l(e);fetch(e.href,o)}})();const H="https://pixabay.com",y="/api/";p.defaults.baseURL=H;const z="45940755-86be6da0f1a4750ab3bd13574",s={key:z,q:"",image_type:"photo",orientation:"horizontal",safesearch:!0,page:1,per_page:15};async function q(t){try{return s.page=1,(await p.get(y,{params:s})).data}catch(r){console.log(r)}}async function v(){try{return(await p.get(y,{params:s})).data}catch(t){console.log(t)}}function C(t,r){function l({webformatURL:o,largeImageURL:a,tags:d,likes:u,views:x,comments:L,downloads:S}){return`<li class="image-item">
        <a href="${a}">
        <img
        class="search-image"
        src="${o}"
        alt="${d}" />
        <table class="image-table">
            <tr>
                <th>Likes</th>
                <th>Views</th>
                <th>Comments</th>
                <th>Downloads</th>
            </tr>
            <tr>
                <td>${u}</td>
                <td>${x}</td>
                <td>${L}</td>
                <td>${S}</td>
            </tr>
        </table>
        </a>
        </li>`}function c(o){return o.map(l).join("")}const e=c(r);t.insertAdjacentHTML("beforeend",e)}const h=document.querySelector(".form"),m=document.querySelector(".images"),f=document.querySelector(".loader-container"),g=document.querySelector(".load-btn");let b;h.addEventListener("submit",M);async function M(t){if(i("hide"),t.preventDefault(),m.innerHTML=" ",s.q=h.elements.search.value.trim(),s.q===""){i("hide"),n.error({title:" ",message:"Sorry, there are no images matching your search query. Please try again!",titleSize:"16px",titleLineHeight:"24px",messageColor:"white",messageSize:"16px",messageLineHeight:"24px",backgroundColor:"#ef4040",iconColor:"#ffffff",titleColor:"#ffffff",messageColor:"#ffffff",close:!1,position:"topRight"});return}try{let a=function(d){if(d.preventDefault(),d.target.nodeName!=="IMG")return;new w(".image-item a",{captionsData:"alt"}).refresh()};s.page=1;const r=await q(s.q);if(f.style.display="block",s.page+=1,r.hits[0]===void 0){f.style.display="none",i("hide"),n.error({title:" ",message:"Sorry, there are no images matching your search query. Please try again!",titleSize:"16px",titleLineHeight:"24px",messageColor:"white",messageSize:"16px",messageLineHeight:"24px",backgroundColor:"#ef4040",iconColor:"#ffffff",titleColor:"#ffffff",messageColor:"#ffffff",close:!1,position:"topRight"});return}C(m,r.hits),b=document.querySelector(".image-item").getBoundingClientRect().height*2,f.style.display="none";const e=r.totalHits,o=Math.ceil(e/s.per_page);if(s.page>o){i("hide"),n.error({title:" ",message:"We're sorry, but you've reached the end of search results.",titleSize:"16px",titleLineHeight:"24px",messageColor:"white",messageSize:"16px",messageLineHeight:"24px",backgroundColor:"#ef4040",iconColor:"#ffffff",titleColor:"#ffffff",messageColor:"#ffffff",close:!1,position:"topRight"});return}else i("show"),g.addEventListener("click",P);m.addEventListener("click",a),h.reset()}catch(r){n.error({title:" ",message:`${r.name}`,titleSize:"16px",titleLineHeight:"24px",messageColor:"white",messageSize:"16px",messageLineHeight:"24px",backgroundColor:"#ef4040",iconColor:"#ffffff",titleColor:"#ffffff",messageColor:"#ffffff",close:!1,position:"topRight"}),f.style.display="none"}}async function P(){try{f.style.display="block",i("disabled");const t=await v();s.page+=1,C(m,t.hits),window.scrollBy({top:b,behavior:"smooth"}),f.style.display="none";const r=t.totalHits,l=Math.ceil(r/s.per_page);if(s.page>l){i("hide"),n.error({title:" ",message:"We're sorry, but you've reached the end of search results.",titleSize:"16px",titleLineHeight:"24px",messageColor:"white",messageSize:"16px",messageLineHeight:"24px",backgroundColor:"#ef4040",iconColor:"#ffffff",titleColor:"#ffffff",messageColor:"#ffffff",close:!1,position:"topRight"});return}else i()}catch(t){n.error({title:" ",message:`${t.name}`,titleSize:"16px",titleLineHeight:"24px",messageColor:"white",messageSize:"16px",messageLineHeight:"24px",backgroundColor:"#ef4040",iconColor:"#ffffff",titleColor:"#ffffff",messageColor:"#ffffff",close:!1,position:"topRight"})}}function i(t){t==="hide"?g.classList.add("hide"):t==="show"?g.classList.remove("hide"):t==="disable"?g.disabled=!0:g.disabled=!1}
//# sourceMappingURL=index.js.map
