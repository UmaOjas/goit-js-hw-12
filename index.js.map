{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// У файлі pixabay-api.js зберігай функції для HTTP-запитів.\nimport axios from \"axios\";\n// import {loadMoreBtnStatus} from \"../main.js\";\n// import {loadMoreBtn} from \"../main.js\";\n// import {renderSearchCollection} from \"./render-functions.js\";\n\n\nconst BASE_URL = \"https://pixabay.com\";\nconst ENDPOINT = \"/api/\";\naxios.defaults.baseURL = BASE_URL;\nconst API_KEY = \"45940755-86be6da0f1a4750ab3bd13574\"\n\nexport const params = {\n    key: API_KEY,\n    q: \"\",\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n}\n\nexport async function searchImagesByQuery(query) {\n    try {\n        const response = await axios.get(ENDPOINT, {params});\n        return response.data;\n    } catch(error) {\n        console.log(error)\n    }\n}\n\n\n\n// export function searchImagesByQuery(query) {\n//     const URL = \"https://pixabay.com/api/\";\n//     const API_KEY =\"45940755-86be6da0f1a4750ab3bd13574\";\n\n//     const params = new URLSearchParams({\n//         key: API_KEY,\n//         q: query,\n//         image_type: \"photo\",\n//         orientation: \"horizontal\",\n//         safesearch: true,\n//     });\n\n//     return fetch(`${URL}?${params}`).then((response) => {\n//         if(!response.ok) {\n//             throw new Error(response.status);\n//         }\n//         return response.json();\n//     })\n// }\n\n","// У файлі render-functions.js створи функції для відображення елементів інтерфейсу.\n// { webformatUrl, largeImageUrl, tags, likes, views, comments, downloads}\n\n\nexport function renderSearchCollection(listImages, images) {\n    function imageTemplate({ webformatURL, largeImageURL, tags, likes, views, comments, downloads}) {\n        return  `<li class=\"image-item\">\n        <a href=\"${largeImageURL}\">\n        <img\n        class=\"search-image\"\n        src=\"${webformatURL}\"\n        alt=\"${tags}\" />\n        <table class=\"image-table\">\n            <tr>\n                <th>Likes</th>\n                <th>Views</th>\n                <th>Comments</th>\n                <th>Downloads</th>\n            </tr>\n            <tr>\n                <td>${likes}</td>\n                <td>${views}</td>\n                <td>${comments}</td>\n                <td>${downloads}</td>\n            </tr>\n        </table>\n        </a>\n        </li>`\n    }\n\n    function imagesTemplate(arr) {\n        return arr.map(imageTemplate).join('');\n    };\n    const markup = imagesTemplate(images);\n    listImages.insertAdjacentHTML('beforeend', markup);\n}","// У файлі main.js напиши всю логіку роботи додатка.\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport {searchImagesByQuery} from \"./js/pixabay-api\";\nimport {renderSearchCollection} from \"./js/render-functions\";\nimport {params} from \"./js/pixabay-api\";\n\nconst form = document.querySelector(\".form\");\nconst listImages = document.querySelector(\".images\");\nconst contLoader = document.querySelector(\".loader-container\");\n// export const loadMoreBtn = document.querySelector(\".load-btn\");\n// loadMoreBtnStatus(\"hide\");\n\n\nform.addEventListener(\"submit\", handleSuubmit);\n\nfunction handleSuubmit(e) {\n    e.preventDefault();\n    listImages.innerHTML = \" \";\n    params.q = form.elements.search.value.trim();\n    if(params.q === \"\") {\n        iziToast.error({\n            title: ' ',\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n            titleSize: '16px',\n            titleLineHeight: '24px',\n            messageColor: 'white',\n            messageSize: '16px',\n            messageLineHeight: '24px',\n            backgroundColor: '#ef4040',\n            iconColor: '#ffffff',\n            titleColor: '#ffffff',\n            messageColor: '#ffffff',\n            close: false,\n            position: 'topRight',\n        })\n        return;\n    }\n    contLoader.style.display = \"block\";\n    searchImagesByQuery(params.q)\n    .then((data) => {\n        contLoader.style.display = \"block\";\n        if(data.hits[0] === undefined) {\n            contLoader.style.display = \"none\";\n            iziToast.error({\n                title: ' ',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                // iconUrl: errorIcon,\n                titleSize: '16px',\n                titleLineHeight: '24px',\n                messageColor: 'white',\n                messageSize: '16px',\n                messageLineHeight: '24px',\n                backgroundColor: '#ef4040',\n                iconColor: '#ffffff',\n                titleColor: '#ffffff',\n                messageColor: '#ffffff',\n                close: false,\n                position: 'topRight',\n            })\n            return;\n        }\n\n\n        renderSearchCollection(listImages, data.hits);\n        contLoader.style.display = \"none\";\n\n        listImages.addEventListener(\"click\", handleClick);\n\n        function handleClick(e) {\n            e.preventDefault()\n            if (e.target.nodeName !== 'IMG') return;\n            const lightbox = new SimpleLightbox('.image-item a', { \n                captionsData: \"alt\",\n             });\n             lightbox .refresh();\n\n        }\n        form.reset();\n    })\n    .catch((error) => {\n        console.log(error)\n        contLoader.style.display = \"none\";\n    })\n}\n\n\n// -----------------------------\n// export function loadMoreBtnStatus(status) {\n//     if (status === \"hide\") {\n//         loadMoreBtn.classList.add(\"hide\");\n//     } else if(status === \"show\") {\n//         loadMoreBtn.classList.remove(\"hide\");\n//     } else if(status === \"disable\") {\n//         loadMoreBtn.disabled = true;\n//     } else {\n//         loadMoreBtn.disabled = false;\n//     }\n// }"],"names":["BASE_URL","ENDPOINT","axios","API_KEY","params","searchImagesByQuery","query","error","renderSearchCollection","listImages","images","imageTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","imagesTemplate","arr","markup","form","contLoader","handleSuubmit","e","iziToast","data","handleClick","SimpleLightbox"],"mappings":"owBAOA,MAAMA,EAAW,sBACXC,EAAW,QACjBC,EAAM,SAAS,QAAUF,EACzB,MAAMG,EAAU,qCAEHC,EAAS,CAClB,IAAKD,EACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EAEO,eAAeE,EAAoBC,EAAO,CAC7C,GAAI,CAEA,OADiB,MAAMJ,EAAM,IAAID,EAAU,CAAC,OAAAG,CAAM,CAAC,GACnC,IACnB,OAAOG,EAAO,CACX,QAAQ,IAAIA,CAAK,CACpB,CACL,CCvBO,SAASC,EAAuBC,EAAYC,EAAQ,CACvD,SAASC,EAAc,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAG,CAC5F,MAAQ;AAAA,mBACGL,CAAa;AAAA;AAAA;AAAA,eAGjBD,CAAY;AAAA,eACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBASGC,CAAK;AAAA,sBACLC,CAAK;AAAA,sBACLC,CAAQ;AAAA,sBACRC,CAAS;AAAA;AAAA;AAAA;AAAA,cAK1B,CAED,SAASC,EAAeC,EAAK,CACzB,OAAOA,EAAI,IAAIT,CAAa,EAAE,KAAK,EAAE,CAE7C,CAAI,MAAMU,EAASF,EAAeT,CAAM,EACpCD,EAAW,mBAAmB,YAAaY,CAAM,CACrD,CCzBA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCb,EAAa,SAAS,cAAc,SAAS,EAC7Cc,EAAa,SAAS,cAAc,mBAAmB,EAK7DD,EAAK,iBAAiB,SAAUE,CAAa,EAE7C,SAASA,EAAcC,EAAG,CAItB,GAHAA,EAAE,eAAc,EAChBhB,EAAW,UAAY,IACvBL,EAAO,EAAIkB,EAAK,SAAS,OAAO,MAAM,OACnClB,EAAO,IAAM,GAAI,CAChBsB,EAAS,MAAM,CACX,MAAO,IACP,QAAS,2EACT,UAAW,OACX,gBAAiB,OACjB,aAAc,QACd,YAAa,OACb,kBAAmB,OACnB,gBAAiB,UACjB,UAAW,UACX,WAAY,UACZ,aAAc,UACd,MAAO,GACP,SAAU,UACtB,CAAS,EACD,MACH,CACDH,EAAW,MAAM,QAAU,QAC3BlB,EAAoBD,EAAO,CAAC,EAC3B,KAAMuB,GAAS,CAEZ,GADAJ,EAAW,MAAM,QAAU,QACxBI,EAAK,KAAK,CAAC,IAAM,OAAW,CAC3BJ,EAAW,MAAM,QAAU,OAC3BG,EAAS,MAAM,CACX,MAAO,IACP,QAAS,2EAET,UAAW,OACX,gBAAiB,OACjB,aAAc,QACd,YAAa,OACb,kBAAmB,OACnB,gBAAiB,UACjB,UAAW,UACX,WAAY,UACZ,aAAc,UACd,MAAO,GACP,SAAU,UAC1B,CAAa,EACD,MACH,CAGDlB,EAAuBC,EAAYkB,EAAK,IAAI,EAC5CJ,EAAW,MAAM,QAAU,OAE3Bd,EAAW,iBAAiB,QAASmB,CAAW,EAEhD,SAASA,EAAYH,EAAG,CAEpB,GADAA,EAAE,eAAgB,EACdA,EAAE,OAAO,WAAa,MAAO,OAChB,IAAII,EAAe,gBAAiB,CACjD,aAAc,KAC9B,CAAc,EACS,QAAO,CAErB,CACDP,EAAK,MAAK,CAClB,CAAK,EACA,MAAOf,GAAU,CACd,QAAQ,IAAIA,CAAK,EACjBgB,EAAW,MAAM,QAAU,MACnC,CAAK,CACL"}